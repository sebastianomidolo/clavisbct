% Lista di items generica

\documentclass[a4paper,11pt]{article}

% \usepackage[a4paper]{geometry}


\usepackage[a4paper, top=20mm, bottom=10mm, left=2.5cm, right=1.25in]{geometry}

\usepackage{fancyhdr}
\setlength{\headheight}{1pt}
\pagestyle{fancy}


\textwidth=20cm

% \rhead{Prova \LaTeX}

% \usepackage[utf8]{inputenc}
\usepackage[utf8x]{inputenc}

% \usepackage{multicol}

\linespread{1.3}

% Impostazione per stampante ufficio informazioni
\hoffset=-22mm
% \voffset=-28mm


\textheight=28cm

\usepackage{supertabular}


\renewcommand{\headrulewidth}{0pt}
\pagestyle{fancy}

<%= "\\chead{Elenco richieste degli utenti stampato il #{Time.now.to_date}}" %>

\lfoot{}
\cfoot{}
\rfoot{}



\begin{document}


% \pagestyle{empty}

% \head{x}

%\tablehead{\hline}
%\tabletail{\hline}

\begin{supertabular}{r|l|l|c}
<%
 res=[]	
 cnt=1
 records = inputdata[0]
 compact = records.length > 60 ? true : false

 prec_piano=nil
 records.each do |e|
   if !prec_piano.nil? and prec_piano!=e['piano'] and compact
     res << "--- & --- & --- \\\\"
   end
   # Da sistemare
   next

   res << "#{e['piano']} & {\\Large #{e['collocazione'][0..16]}} & #{e['title'][0..45]} & #{e['lastname']}-#{e['daily_counter']} \\\\"
   cnt+=1
 end
%>
<%= res.join("\n") %>

\end{supertabular}

\end{document}
